<template>
  <div style="width: 100vw; height: 100vh">
    <!-- <canvas ref="canvasRef" style="width: 100%; height: 100%" /> -->
    <custom-pdf-viewer ref="pdfViewerRef" class="pdf-viewer" />
  </div>
</template>

<script setup lang="ts">
import { pdfViewers } from '@packages/pdf-view';
import { onMounted, ref, type Ref } from 'vue';

defineOptions({
  name: 'TTest',
});
const pdfViewerRef: Ref<pdfViewers.PdfViewer | null> = ref(null);
onMounted(() => {
  //   // const base64 =
  //   //   'data:application/pdf;base64,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Q1MyLUgvRW5jb2RpbmcvVW5pR0ItVUNTMi1IL0Rlc2NlbmRhbnRGb250c1s4IDAgUl0+PgplbmRvYmoKNSAwIG9iago8PC9UeXBlL1BhZ2VzL0NvdW50IDEvS2lkc1s2IDAgUl0+PgplbmRvYmoKOSAwIG9iago8PC9UeXBlL0NhdGFsb2cvUGFnZXMgNSAwIFI+PgplbmRvYmoKMTAgMCBvYmoKPDwvUHJvZHVjZXIoaVRleHSuIDUuNS4xMCCpMjAwMC0yMDE1IGlUZXh0IEdyb3VwIE5WIFwoQUdQTC12ZXJzaW9uXCkpL0NyZWF0aW9uRGF0ZShEOjIwMjUxMjExMTcwNDExKzA4JzAwJykvTW9kRGF0ZShEOjIwMjUxMjExMTcwNDExKzA4JzAwJykvVGl0bGUo/v97flRccgBQAEQARik+PgplbmRvYmoKeHJlZgowIDExCjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMjYzNiAwMDAwMCBuIAowMDAwMDAwMDE1IDAwMDAwIG4gCjAwMDAwMDA4NDQgMDAwMDAgbiAKMDAwMDAwMTA3OCAwMDAwMCBuIAowMDAwMDAyNzYwIDAwMDAwIG4gCjAwMDAwMDIwNTYgMDAwMDAgbiAKMDAwMDAwMjIwMiAwMDAwMCBuIAowMDAwMDAyMzkzIDAwMDAwIG4gCjAwMDAwMDI4MTEgMDAwMDAgbiAKMDAwMDAwMjg1NiAwMDAwMCBuIAp0cmFpbGVyCjw8L1NpemUgMTEvUm9vdCA5IDAgUi9JbmZvIDEwIDAgUi9JRCBbPGZjOGVhYjIwMzNkZGFlMGIwNTczN2FmMWZhMDA5ZjBhPjxmYzhlYWIyMDMzZGRhZTBiMDU3MzdhZjFmYTAwOWYwYT5dPj4KJWlUZXh0LTUuNS4xMApzdGFydHhyZWYKMzAzNgolJUVPRgo=';
  // 单页
  // const url = 'https://hlwyy.czfybjy.com:18081/api/test/caring1/e62ee6d2-2217-457a-8ae1-e5b826d1f3d11.pdf';
  // 多页
  const url = 'https://hlwyy.czfybjy.com:18081/api/test/caring1/62c998c9-91aa-40c9-9d35-d77a58b186572023年上半年软件设计师综合知识.pdf';
  // 大体积
  // const url = 'https://hlwyy.czfybjy.com:18081/api/test/caring1/84761ba2-749b-44d4-b41c-85c5ffe50ac4软件设计师教程第5版.高清.PDF.pdf';
  console.log(
    pdfViewerRef.value!.show({
      type: 'remote',
      data: url,
      options: {
        cMapUrl: '/unpkg-resource/pdfjs-dist@5.4.530/cmaps/',
      },
    })
  );
});
</script>

<style lang="postcss" scoped>
.pdf-viewer {
  width: 100%;
  height: 100%;
  background-color: #f2f2f2;
}
</style>
